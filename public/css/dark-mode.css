/* Combobox (select) específico del tablero en modo oscuro */
.dark-mode #sprintSelect,
.dark-mode #sprintSelect.form-select {
    background-color: var(--dark-bg-terciary) !important;
    color: var(--dark-text-primary) !important;
    border-color: var(--dark-border-primary) !important;
}

.dark-mode #sprintSelect:focus {
    background-color: var(--dark-bg-quaternary) !important;
    border-color: var(--dark-accent-primary) !important;
    box-shadow: 0 0 0 0.25rem rgba(138, 124, 255, 0.25);
}
/* ======= PREVENIR FLASH DURANTE LA CARGA ======= */
html.dark-mode-preload {
    visibility: hidden !important;
    opacity: 0 !important;
}

html.dark-mode-preload * {
    transition: none !important;
    animation: none !important;
}

/* ======= ELIMINAR TODAS LAS TRANSICIONES ======= */
body,
body *,
body *::before,
body *::after {
    transition: none !important;
    animation: none !important;
}

/* Eliminar transiciones específicas */
.theme-transition,
.theme-transition *,
.theme-transition *::before,
.theme-transition *::after,
.dark-mode .btn:hover,
.dark-mode .form-control:focus,
.dark-mode .btn-mode-toggle:hover,
.dark-mode .card.mb-2.p-3:hover {
    transition: none !important;
    transform: none !important;
    box-shadow: none !important;
}

/* Eliminar declaraciones de transición en componentes específicos */
.dark-mode .btn:hover,
.dark-mode .btn-primary:hover,
.dark-mode .form-control:focus,
.dark-mode .list-group-item:hover,
.dark-mode .button-container .btn:hover {
    transition: none !important;
    transform: none !important;
}

/* dark-mode-optimized.css - Versión mejorada para legibilidad */
:root {
    /* Paleta de fondos mejorada */
    --dark-bg-primary: #121218;
    --dark-bg-secondary: #1e1e2a;
    --dark-bg-tertiary: #2a2a3a;
    --dark-bg-quaternary: #37374a;
    
    /* Paleta de textos optimizada para contraste */
    --dark-text-primary: #f0f0f5;
    --dark-text-secondary: #d0d0dd;
    --dark-text-terciary: #a0a0b0;
    
    /* Colores de bordes */
    --dark-border-primary: #3d3d50;
    --dark-border-secondary: #4a4a60;
    
    /* Paleta de acentos */
    --dark-accent-primary: #8a7cff;
    --dark-accent-hover: #6a5cef;
    --dark-accent-light: rgba(138, 124, 255, 0.1);
    
    /* Colores semánticos mejorados */
    --dark-success: #28a873;
    --dark-success-light: rgba(40, 168, 115, 0.15);
    --dark-warning: #ff9e3c;
    --dark-warning-light: rgba(255, 158, 60, 0.15);
    --dark-danger: #ff5c5c;
    --dark-danger-light: rgba(255, 92, 92, 0.15);
    --dark-info: #42a5ff;
    --dark-info-light: rgba(66, 165, 255, 0.15);
    
    /* Sombras mejor definidas */
    --dark-shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.25);
    --dark-shadow-md: 0 4px 8px rgba(0, 0, 0, 0.3);
    --dark-shadow-lg: 0 8px 16px rgba(0, 0, 0, 0.35);
}

/* ESTILOS BASE SIN TRANSICIONES */
.dark-mode {
    background-color: var(--dark-bg-primary) !important;
    color: var(--dark-text-primary) !important;
}

/* Tipografía optimizada */
.dark-mode {
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

/* Contenedores principales SIN TRANSICIONES */
.dark-mode .navbar,
.dark-mode .sidebar,
.dark-mode .card,
.dark-mode .menu,
.dark-mode .modal-content,
.dark-mode .modal-container,
.dark-mode .story-item,
.dark-mode .accordion-toggle,
.dark-mode .dropdown-menu,
.dark-mode .modal-footer{
    background-color: var(--dark-bg-secondary);
    border-color: var(--dark-border-primary);
    box-shadow: var(--dark-shadow-sm);
}

/* Textos y encabezados */
.dark-mode h1, .dark-mode h2, .dark-mode h3,
.dark-mode h4, .dark-mode h5, .dark-mode h6 {
    color: var(--dark-text-primary);
    font-weight: 600;
    letter-spacing: -0.025em;
}

.dark-mode p, .dark-mode li, .dark-mode td {
    color: var(--dark-text-secondary);
    line-height: 1.6;
}

.dark-mode small, .dark-mode .text-muted {
    color: var(--dark-text-terciary) !important;
}

/* Componentes interactivos SIN TRANSICIONES */
.dark-mode .btn {
    background-color: var(--dark-bg-terciary);
    color: var(--dark-text-secondary);
    border-color: var(--dark-border-primary);
}

.dark-mode .btn:hover {
    background-color: var(--dark-bg-quaternary);
    color: var(--dark-text-primary);
}

.dark-mode .btn-primary {
    background-color: var(--dark-accent-primary);
    border-color: var(--dark-accent-primary);
    color: #fff;
}

.dark-mode .btn-primary:hover {
    background-color: var(--dark-accent-hover);
    border-color: var(--dark-accent-hover);
}

/* Formularios mejorados SIN TRANSICIONES */
.dark-mode .form-control,
.dark-mode .form-select,
.dark-mode input,
.dark-mode textarea {
    background-color: var(--dark-bg-terciary);
    border-color: var(--dark-border-primary);
    color: var(--dark-text-primary);
}

.dark-mode .form-control:focus {
    background-color: var(--dark-bg-quaternary);
    border-color: var(--dark-accent-primary);
    box-shadow: 0 0 0 0.25rem rgba(138, 124, 255, 0.25);
}

/* Estilos optimizados para tablas en admin */
.dark-mode .table,
.dark-mode .table-bordered,
.dark-mode .table-striped,
.dark-mode .summary-grid,
.dark-mode .contributors-ranking,
.dark-mode .chart-container{
    color: var(--dark-text-primary) !important;
    background-color: var(--dark-bg-secondary) !important;
    border-color: var(--dark-border-primary) !important;
}

.dark-mode .table th,
.dark-mode .table td,
.dark-mode .table thead th {
    border-color: var(--dark-border-primary) !important;
    color: var(--dark-text-primary) !important;
    background-color: var(--dark-bg-secondary) !important;
}

/* CORRECCIÓN: Cambiado 't' por 'tbody' */
.dark-mode .table-hover tbody tr:hover {
    background-color: var(--dark-bg-terciary) !important;
    color: var(--dark-text-primary) !important;
}

/* CORRECCIÓN: Cambiado 't' por 'tbody' */
.dark-mode .table-striped > tbody > tr:nth-of-type(odd),
.dark-mode .table-striped > tbody > tr:nth-of-type(even) {
    background-color: var(--dark-bg-secondary) !important;
    color: var(--dark-text-primary) !important;
}

/* CORRECCIÓN: Cambiado 't' por 'tbody' */
.dark-mode .table-striped > tbody > tr:hover {
    background-color: var(--dark-bg-terciary) !important;
    color: var(--dark-text-primary) !important;
}

.dark-mode .table-striped .bg-light,
.dark-mode .table-striped .bg-white,
.dark-mode .table-striped [class*="bg-light"],
.dark-mode .table-striped [class*="bg-white"],
.dark-mode .table-striped [style*="background-color: #fff"],
.dark-mode .table-striped [style*="background-color: white"],
.dark-mode .table-striped [style*="background: #fff"],
.dark-mode .table-striped [style*="background: white"] {
    background-color: var(--dark-bg-secondary) !important;
    color: var(--dark-text-primary) !important;
}

/* Tarjetas mejoradas */
.dark-mode .card {
    background-color: var(--dark-bg-secondary);
    border-color: var(--dark-border-primary);
    box-shadow: var(--dark-shadow-sm);
}

.dark-mode .card-header {
    background-color: var(--dark-bg-terciary);
    border-bottom-color: var(--dark-border-primary);
    color: var(--dark-text-primary);
}

.dark-mode .card-footer {
    background-color: var(--dark-bg-terciary);
    border-top-color: var(--dark-border-primary);
}

/* Estados semánticos */
.dark-mode .alert-success {
    background-color: var(--dark-success-light);
    border-color: var(--dark-success);
    color: var(--dark-text-primary);
}

.dark-mode .alert-warning {
    background-color: var(--dark-warning-light);
    border-color: var(--dark-warning);
    color: var(--dark-text-primary);
}

.dark-mode .alert-danger {
    background-color: var(--dark-danger-light);
    border-color: var(--dark-danger);
    color: var(--dark-text-primary);
}

.dark-mode .alert-info {
    background-color: var(--dark-info-light) !important;
    color: var(--dark-text-primary) !important;
    border-color: var(--dark-info) !important;
}

/* Efectos visuales mejorados */
.dark-mode .list-group-item {
    background-color: var(--dark-bg-secondary);
    border-color: var(--dark-border-primary);
    color: var(--dark-text-secondary);
}

.dark-mode .list-group-item:hover {
    background-color: var(--dark-bg-terciary);
    color: var(--dark-text-primary);
}

/* Barra de scroll personalizada (opcional) */
.dark-mode ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

.dark-mode ::-webkit-scrollbar-track {
    background: var(--dark-bg-primary);
}

.dark-mode ::-webkit-scrollbar-thumb {
    background: var(--dark-bg-terciary);
    border-radius: 4px;
}

.dark-mode ::-webkit-scrollbar-thumb:hover {
    background: var(--dark-accent-primary);
}

/* Mejoras para la navegación */
.dark-mode .navbar,
.dark-mode nav {
    background-color: var(--dark-bg-secondary) !important;
    border-color: var(--dark-border-primary) !important;
    color: var(--dark-text-primary) !important;
}

.dark-mode .nav-message {
    color: var(--dark-text-primary) !important;
}

/* Ajustes para el botón de navegación en modo oscuro */
.dark-mode .navbar {
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.15);
}

.dark-mode .navbar button:focus,
.dark-mode .navbar button:active {
    outline: none;
    box-shadow: none;
}

/* Asegurar que los enlaces de navegación son consistentes */
.dark-mode .navbar a,
.dark-mode .navbar .nav-link {
    color: var(--dark-text-primary) !important;
}

.dark-mode .navbar a:hover,
.dark-mode .navbar .nav-link:hover {
    color: var(--dark-accent-primary) !important;
}

/* Mejoras para alineación en navegación */
.navbar .container-fluid {
    padding-left: 1rem;
    padding-right: 1rem;
}

@media (min-width: 992px) {
    .navbar .container-fluid {
        padding-left: 1.5rem;
        padding-right: 1.5rem;
    }
}

.navbar .d-flex.justify-content-start {
    height: 4rem;
}

.navbar .ms-auto {
    margin-left: auto !important;
}

/* Mejora para el botón de modo oscuro */
.dark-mode .btn-mode-toggle {
    background-color: var(--dark-bg-terciary) !important;
    color: var(--dark-text-primary) !important;
    border-color: var(--dark-border-secondary) !important;
}

.dark-mode .btn-mode-toggle:hover {
    background-color: var(--dark-bg-quaternary) !important;
    border-color: var(--dark-accent-primary) !important;
}

/* Botón de sidebar en modo oscuro */
.dark-mode .sidebar-toggle-desktop {
    background-color: var(--dark-bg-terciary) !important;
    color: var(--dark-text-primary) !important;
    border-color: var(--dark-border-primary) !important;
}

.dark-mode .sidebar-toggle-desktop:hover {
    background-color: var(--dark-bg-quaternary) !important;
}

/* Optimización general para bg-white y text-dark */
.dark-mode .bg-white,
.dark-mode [class*="bg-light"] {
    background-color: var(--dark-bg-secondary) !important;
}

.dark-mode .text-dark,
.dark-mode .text-gray-600,
.dark-mode .text-gray-900 {
    color: var(--dark-text-primary) !important;
}

.dark-mode .text-muted {
    color: var(--dark-text-terciary) !important;
}


.dark-mode .dropdown-item {
    color: var(--dark-text-primary) !important;
}

.dark-mode .dropdown-item:hover {
    background-color: var(--dark-bg-terciary) !important;
    color: var(--dark-text-primary) !important;
}

/* Ajustes para dashboard y paneles */
.dark-mode .font-semibold,
.dark-mode .fw-bold {
    color: var(--dark-text-primary) !important;
}

/* Optimizar hidden sm:hidden y similares */
.dark-mode .hidden {
    background-color: transparent !important;
}

/* Manejar correctamente los bordes */
.dark-mode .border,
.dark-mode .border-b,
.dark-mode .border-t,
.dark-mode .border-gray-100,
.dark-mode .border-gray-200 {
    border-color: var(--dark-border-primary) !important;
}

/* Estilo específico para vista de backlog */
.dark-mode .card.mb-2.p-3 {
    background-color: var(--dark-bg-secondary) !important;
    border-color: var(--dark-border-primary) !important;
    color: var(--dark-text-primary) !important;
    box-shadow: var(--dark-shadow-sm);
}

.dark-mode .card.mb-2.p-3:hover {
    background-color: var(--dark-bg-terciary) !important;
    box-shadow: var(--dark-shadow-md);
}

.dark-mode .card.mb-2.p-3 strong {
    color: var(--dark-text-primary) !important;
}

.dark-mode a.text-decoration-none.text-dark {
    color: var(--dark-text-primary) !important;
    text-decoration: none;
}

/* Específico para contenedores de tablero */
.dark-mode #kanban-board {
    background-color: var(--dark-bg-primary) !important;
}

/* Migas de pan específicas para tablero */
.dark-mode .tablero-breadcrumb,
.dark-mode .breadcrumb-container nav,
.dark-mode nav.breadcrumb-container {
    background-color: #2a2a36 !important; /* Gris oscuro personalizado */
    border-color: var(--dark-border-primary) !important;
}

/* Estilos específicos para inputs, selects y botones en formularios */
.dark-mode select.form-select {
    background-color: var(--dark-bg-terciary) !important;
    color: var(--dark-text-primary) !important;
    border-color: var(--dark-border-primary) !important;
}

.dark-mode input.form-control {
    background-color: var(--dark-bg-terciary) !important;
    color: var(--dark-text-primary) !important;
    border-color: var(--dark-border-primary) !important;
}

.dark-mode input.form-control::placeholder {
    color: var(--dark-text-terciary) !important;
}

/* Estilo específico para modal en modo oscuro */
.dark-mode .modal-header,
.dark-mode .modal-footer {
    border-color: var(--dark-border-primary) !important;
}

/* Estilos específicos para componentes de tablero */
.dark-mode .overflow-auto.pb-3,
.dark-mode .overflow-auto.p-2 {
    background-color: transparent !important;
}

/* Clases específicas para contenedores y bordes en todo el sistema */
.dark-mode .container, 
.dark-mode .container-fluid {
    background-color: transparent !important;
}

/* Estilos específicos para admin panel */
.dark-mode .admin-header {
    background-color: var(--dark-bg-terciary) !important;
    border-left-color: var(--dark-accent-primary) !important;
    color: var(--dark-text-primary) !important;
}

.dark-mode .admin-card {
    background-color: var(--dark-bg-secondary) !important;
    box-shadow: var(--dark-shadow-sm) !important;
}

.dark-mode .admin-card .card-header {
    background-color: var(--dark-bg-terciary) !important;
    color: var(--dark-text-primary) !important;
    border-color: var(--dark-border-primary) !important;
}

.dark-mode .button-container .btn {
    background: linear-gradient(to right, var(--dark-accent-primary), var(--dark-accent-hover)) !important;
    color: var(--dark-text-primary) !important;
}

.dark-mode .button-container .btn:hover {
    background: linear-gradient(to right, var(--dark-accent-hover), var(--dark-accent-primary)) !important;
    transform: translateY(-1px);
    box-shadow: var(--dark-shadow-md);
}

/* CORRECCIÓN: Clase corregida a .card-body */
.dark-mode .card-body {
    background-color: var(--dark-bg-secondary) !important;
    color: var(--dark-text-primary) !important;
}

.dark-mode .admin-table th {
    background-color: var(--dark-bg-terciary) !important;
    color: var(--dark-text-secondary) !important;
}

.dark-mode .pagination-container .page-link {
    background-color: var(--dark-bg-terciary) !important;
    color: var(--dark-text-primary) !important;
    border-color: var(--dark-border-primary) !important;
}

.dark-mode .pagination-container .page-item.active .page-link {
    background-color: var(--dark-accent-primary) !important;
    color: var(--dark-text-primary) !important;
    border-color: var(--dark-accent-primary) !important;
}

/* Vistas de colaboradores */
.dark-mode .hero-section {
    background-color: var(--dark-bg-primary) !important;
}

.dark-mode .hero-bg img {
    filter: brightness(0.7) contrast(1.1) !important;
}

.dark-mode .hero-title {
    color: var(--dark-text-primary) !important;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5) !important;
}

.dark-mode .section-title {
    color: var(--dark-text-primary) !important;
}

.dark-mode .description {
    color: var(--dark-text-secondary) !important;
}

/* Acordeones y pestañas */
.dark-mode .accordion-button {
    background-color: var(--dark-bg-secondary) !important;
    color: var(--dark-text-primary) !important;
}

.dark-mode .accordion-button:not(.collapsed) {
    background-color: var(--dark-bg-terciary) !important;
    color: var(--dark-text-primary) !important;
}

.dark-mode .accordion-item {
    background-color: var(--dark-bg-secondary) !important;
    border-color: var(--dark-border-primary) !important;
}

.dark-mode .accordion-collapse {
    background-color: var(--dark-bg-secondary) !important;
}

.dark-mode .nav-tabs .nav-link {
    color: var(--dark-text-secondary) !important;
    border-color: transparent !important;
}

.dark-mode .nav-tabs .nav-link.active {
    color: var(--dark-text-primary) !important;
    background-color: var(--dark-bg-terciary) !important;
    border-color: var(--dark-border-primary) var(--dark-border-primary) transparent !important;
}

/* Asegurar que todos los fondos blancos se manejen correctamente */
.dark-mode .bg-white,
.dark-mode .bg-light,
.dark-mode div[class*="bg-white"],
.dark-mode div[class*="bg-light"],
.dark-mode [style*="background-color: #fff"],
.dark-mode [style*="background-color: white"],
.dark-mode [style*="background-color: rgb(255, 255, 255)"],
.dark-mode [style*="background: white"],
.dark-mode [style*="background: #fff"],
.dark-mode nav.bg-white,
.dark-mode nav.bg-light,
.dark-mode ol.bg-white,
.dark-mode ol.bg-light {
    background-color: var(--dark-bg-secondary) !important;
}

/* Asegurar que todos los textos oscuros se manejen correctamente */
.dark-mode .text-dark,
.dark-mode .text-black,
.dark-mode div[class*="text-dark"],
.dark-mode div[class*="text-black"],
.dark-mode [style*="color: #000"],
.dark-mode [style*="color: black"],
.dark-mode [style*="color: rgb(0, 0, 0)"] {
    color: var(--dark-text-primary) !important;
}

/* Optimizar enlaces y urls */
.dark-mode a:not(.btn):not(.nav-link):not(.badge) {
    color: var(--dark-accent-primary) !important;
}

.dark-mode a:not(.btn):not(.nav-link):not(.badge):hover {
    color: var(--dark-accent-hover) !important;
}

/* Mejora para el botón de modo oscuro */
.btn-mode-toggle {
    background-color: transparent;
    border: 1px solid #dee2e6;
    color: #343a40;
    padding: 0.25rem 0.75rem;
    display: inline-flex;
    align-items: center;
    gap: 0.35rem;
}

.btn-mode-toggle:hover {
    background-color: #f8f9fa;
    border-color: #ced4da;
}

/* Estilos específicos para la vista de historias */
.dark-mode .historia-container-fluid {
    background-color: var(--dark-bg-primary);
    color: var(--dark-text-primary);
}

.dark-mode .historia-header,
.dark-mode .historia-title {
    background-color: var(--dark-bg-secondary);
    color: var(--dark-text-primary);
}

.dark-mode .historia-section,
.dark-mode .historia-content,
.dark-mode .historia-details {
    background-color: var(--dark-bg-secondary);
    color: var(--dark-text-primary);
    border-color: var(--dark-border-primary);
}

.dark-mode .section-title {
    color: var(--dark-text-primary);
}

.dark-mode .projectSelect,
.dark-mode #projectSelect,
.dark-mode select#projectSelect,
.dark-mode select {
    color: white !important;
    background-color: var(--dark-bg-terciary) !important;
    border-color: var(--dark-border-primary) !important;
}

.dark-mode #projectSelect-label {
    color: white !important;
}

.dark-mode .detail-label {
    color: var(--dark-text-secondary);
}

.dark-mode .detail-value {
    color: var(--dark-text-primary);
}

/* Comentarios en modo oscuro */
.dark-mode .card.mt-5.shadow {
    background-color: var(--dark-bg-secondary);
    border-color: var(--dark-border-primary);
}

/* CORRECCIÓN: Usando .dark-mode en lugar de .dark.mode */
.dark-mode .card-header.bg-white {
    background-color: var(--dark-bg-secondary) !important;
    border-color: var(--dark-border-primary);
}

/* CORRECCIÓN: Clase corregida a .card-body */
.dark-mode .card-body.bg-light {
    background-color: var(--dark-bg-primary) !important;
}

.dark-mode .text-dark {
    color: var(--dark-text-primary) !important;
}

.dark-mode .text-info {
    color: var(--dark-accent-primary) !important;
}

.dark-mode .btn-light {
    background-color: var(--dark-bg-tertiary);
    color: var(--dark-text-primary);
    border-color: var(--dark-border-primary);
}

/* Comentarios y respuestas */
.dark-mode .border.rounded-4.p-4.mb-4.bg-white,
.dark-mode .mt-3.ms-5.p-3.rounded-3.bg-white {
    background-color: var(--dark-bg-secondary) !important;
    border-color: var(--dark-border-primary) !important;
}

.dark-mode .text-secondary {
    color: var(--dark-text-secondary) !important;
}

/* Modales */
.dark-mode .fixed .bg-white,
.dark-mode #nuevoComentarioModal .bg-white,
.dark-mode [id^="editarComentarioModal"] .bg-white,
.dark-mode [id^="responderComentarioModal"] .bg-white {
    background-color: var(--dark-bg-secondary) !important;
    border-color: var(--dark-border-primary) !important;
}

.dark-mode .form-control {
    background-color: var(--dark-bg-terciary);
    color: var(--dark-text-primary);
    border-color: var(--dark-border-primary);
}

.dark-mode .bg-black.bg-opacity-50 {
    background-color: rgba(0, 0, 0, 0.7) !important;
}

/* Botones en las vistas de historias */
.dark-mode .btn-outline-secondary,
.dark-mode .btn-outline-info,
.dark-mode .btn-outline-danger {
    color: var(--dark-text-primary);
    border-color: var(--dark-border-secondary);
}

.dark-mode .btn-outline-secondary:hover,
.dark-mode .btn-outline-info:hover,
.dark-mode .btn-outline-danger:hover {
    background-color: var(--dark-bg-terciary);
    color: var(--dark-text-primary);
}

.dark-mode .btn-warning.text-white {
    background-color: var(--dark-accent-primary);
    border-color: var(--dark-accent-primary);
}

/* CORRECCIÓN: Usando .dark-mode en lugar de .dark.mode */
.dark-mode .btn-warning.text-white:hover {
    background-color: var(--dark-accent-hover);
    border-color: var(--dark-accent-hover);
}

/* Modal de confirmación */
.dark-mode .modal-content {
    background-color: var(--dark-bg-secondary);
    color: var(--dark-text-primary);
    border-color: var(--dark-border-primary);
}

.dark-mode .modal-header,
.dark-mode .modal-footer {
    border-color: var(--dark-border-primary);
}

.dark-mode .modal-title {
    color: var(--dark-text-primary);
}

.dark-mode .btn-close {
    filter: invert(1) grayscale(100%) brightness(200%);
}

/* Estilos específicos para componentes de la vista de historias */
.dark-mode .mi-container {
    background-color: var(--dark-bg-primary);
    color: var(--dark-text-primary);
}

.dark-mode .alert-success {
    background-color: var(--dark-success-light);
    color: var(--dark-text-primary);
    border-color: var(--dark-success);
}

/* Estilo para el botón de agregar tareas */
.dark-mode a.text-primary.border.border-primary[style*="background-color: #e6f2ff"] {
    background-color: var(--dark-bg-terciary) !important;
    color: var(--dark-accent-primary) !important;
    border-color: var(--dark-accent-primary) !important;
}

/* Estilos para badges */
.dark-mode .badge.bg-primary {
    background-color: var(--dark-accent-primary) !important;
}

.dark-mode .badge.bg-secondary {
    background-color: var(--dark-bg-quaternary) !important;
}

/* Clases fixed para modales */
.dark-mode .fixed {
    background-color: rgba(0, 0, 0, 0.7) !important;
}

/* Estilos para inputs en modales */
.dark-mode textarea.form-control {
    background-color: var(--dark-bg-terciary) !important;
    color: var(--dark-text-primary) !important;
    border-color: var(--dark-border-primary) !important;
}

.dark-mode textarea.form-control::placeholder {
    color: var(--dark-text-terciario) !important;
}

/* Ajustes para botones de acción en comentarios */
.dark-mode .btn-group-sm .btn {
    background-color: var(--dark-bg-terciary);
    color: var(--dark-text-primary);
    border-color: var(--dark-border-primary);
}

.dark-mode .btn-group-sm .btn:hover {
    background-color: var(--dark-bg-quaternary);
}

/* Estilos para elementos de usuario y tiempos */
.dark-mode .text-primary {
    color: var(--dark-accent-primary) !important;
}

.dark-mode .text-muted {
    color: var(--dark-text-terciary) !important;
}

/* Optimizaciones para modales en modo oscuro */
.dark-mode .fixed.inset-0.z-50.flex.items-center.justify-center.bg-black.bg-opacity-50 {
    background-color: rgba(0, 0, 0, 0.7) !important;
}

.dark-mode .fixed.inset-0.z-50.flex.items-center.justify-center.bg-black.bg-opacity-50 .bg-white {
    background-color: var(--dark-bg-secondary) !important;
    color: var(--dark-text-primary) !important;
    border-color: var(--dark-border-primary) !important;
}

/* Estilos específicos para elementos en modales de historias */
.dark-mode .fw-bold.text-dark,
.dark-mode .fw-bold.mb-0.text-dark {
    color: var(--dark-text-primary) !important;
}

.dark-mode .historia-container-fluid .btn-secondary {
    background-color: var(--dark-bg-terciary);
    color: var(--dark-text-primary);
    border-color: var(--dark-border-primary);
}

.dark-mode .historia-container-fluid .btn-secondary:hover {
    background-color: var(--dark-bg-quaternary);
}

.dark-mode .historia-container-fluid .btn-primary {
    background-color: var(--dark-accent-primary);
    border-color: var(--dark-accent-primary);
}

.dark-mode .historia-container-fluid .btn-primary:hover {
    background-color: var(--dark-accent-hover);
}
.dark-mode .contributor-stats,
.dark-mode .contributor-stats .contributor-contributions,
.dark-mode .contributor-stats .contributor-badge {
    color: var(--dark-text-primary) !important;
}

/* Breadcrumbs en modo oscuro */
.dark-mode .breadcrumb-container {
    background-color: #2a2a36 !important; /* Gris oscuro personalizado */
}

.dark-mode .breadcrumb {
    background-color: #2a2a36 !important; /* Gris oscuro personalizado */
    border-color: var(--dark-border-primary) !important;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3) !important;
    padding: 0.75rem 1rem;
    border-radius: 0.25rem;
}

.dark-mode .breadcrumb-item {
    color: var(--dark-text-secondary) !important;
}

.dark-mode .breadcrumb-item.active {
    color: var(--dark-text-primary) !important;
}

.dark-mode .breadcrumb-item a {
    color: var(--dark-accent-primary) !important;
    text-decoration: none;
}

.dark-mode .breadcrumb-item a:hover {
    color: var(--dark-accent-hover) !important;
    text-decoration: underline;
}

.dark-mode .breadcrumb-item + .breadcrumb-item::before {
    color: var(--dark-text-terciary) !important;
}

/* Contenedor específico para breadcrumbs en app.blade.php */
.dark-mode .breadcrumb-wrapper {
    background-color: transparent !important;
}

/* Asegurar que todos los elementos de navegación de migas de pan tengan fondo oscuro */
.dark-mode .container > nav,
.dark-mode .container-fluid > nav,
.dark-mode .row > nav,
.dark-mode .col > nav,
.dark-mode [class*="p-"] > nav,
.dark-mode .breadcrumb-row,
.dark-mode .breadcrumb-col,
.dark-mode .bg-white nav,
.dark-mode nav[aria-label="breadcrumb"],
.dark-mode ol.breadcrumb {
    background-color: #2a2a36 !important; /* Gris oscuro personalizado */
    border-color: var(--dark-border-primary) !important;
}

/* Aplicar estilo oscuro a la barra de navegación y contenedor de migas de pan */
.dark-mode .breadcrumb-header,
.dark-mode .header-breadcrumb,
.dark-mode .header-breadcrumb-container,
.dark-mode #breadcrumb-container,
.dark-mode #header-breadcrumb,
.dark-mode #breadcrumb-nav {
    background-color: var(--dark-bg-primary) !important;
    color: var(--dark-text-primary) !important;
}

/* Mejoras adicionales para el modo oscuro */
.dark-mode .content-wrapper,
.dark-mode .content-header,
.dark-mode .content {
    background-color: var(--dark-bg-primary) !important;
    color: var(--dark-text-primary) !important;
}

.dark-mode .main-header {
    background-color: var(--dark-bg-secondary) !important;
    border-color: var(--dark-border-primary) !important;
}

.dark-mode .main-sidebar {
    background-color: var(--dark-bg-secondary) !important;
    color: var(--dark-text-primary) !important;
    border-color: var(--dark-border-primary) !important;
}

.dark-mode .nav-sidebar .nav-link {
    color: var(--dark-text-secondary) !important;
}

.dark-mode .nav-sidebar .nav-link.active {
    background-color: var(--dark-accent-primary) !important;
    color: white !important;
}

.dark-mode .nav-sidebar .nav-link:hover {
    background-color: var(--dark-bg-terciary) !important;
    color: var(--dark-text-primary) !important;
}

.dark-mode .nav-treeview .nav-link {
    background-color: var(--dark-bg-secondary) !important;
    color: var(--dark-text-secondary) !important;
}

.dark-mode .nav-treeview .nav-link.active {
    background-color: var(--dark-bg-terciary) !important;
    color: var(--dark-text-primary) !important;
}

.dark-mode .nav-treeview .nav-link:hover {
    background-color: var(--dark-bg-quaternary) !important;
    color: var(--dark-text-primary) !important;
}

/* Mejoras para alertas y notificaciones */
.dark-mode .alert {
    border-color: var(--dark-border-primary) !important;
}

.dark-mode .toast,
.dark-mode .toast-header {
    background-color: var(--dark-bg-secondary) !important;
    color: var(--dark-text-primary) !important;
    border-color: var(--dark-border-primary) !important;
}

/* Correcciones para selectores de formulario y botones */
.dark-mode .custom-select,
.dark-mode .select2-container--default .select2-selection--single {
    background-color: var(--dark-bg-terciary) !important;
    color: var(--dark-text-primary) !important;
    border-color: var(--dark-border-primary) !important;
}

.dark-mode .select2-dropdown,
.dark-mode .select2-container--default .select2-search--dropdown .select2-search__field {
    background-color: var(--dark-bg-secondary) !important;
    color: var(--dark-text-primary) !important;
    border-color: var(--dark-border-primary) !important;
}

.dark-mode .select2-container--default .select2-results__option--highlighted[aria-selected] {
    background-color: var(--dark-accent-primary) !important;
    color: white !important;
}

/* Mejoras para paginación */
.dark-mode .page-item.disabled .page-link {
    background-color: var(--dark-bg-secondary) !important;
    color: var(--dark-text-terciary) !important;
    border-color: var(--dark-border-primary) !important;
}

/* Mejoras para elementos de información y estadísticas */
.dark-mode .info-box,
.dark-mode .small-box {
    background-color: var(--dark-bg-secondary) !important;
    color: var(--dark-text-primary) !important;
    box-shadow: var(--dark-shadow-sm) !important;
}

.dark-mode .info-box-icon,
.dark-mode .small-box .icon {
    color: var(--dark-accent-primary) !important;
}

/* Estilos para popups y tooltips */
.dark-mode .tooltip-inner {
    background-color: var(--dark-bg-quaternary) !important;
    color: var(--dark-text-primary) !important;
}

.dark-mode .popover {
    background-color: var(--dark-bg-secondary) !important;
    border-color: var(--dark-border-primary) !important;
}

.dark-mode .popover-header {
    background-color: var(--dark-bg-terciary) !important;
    color: var(--dark-text-primary) !important;
    border-color: var(--dark-border-primary) !important;
}

.dark-mode .popover-body {
    color: var(--dark-text-secondary) !important;
}
